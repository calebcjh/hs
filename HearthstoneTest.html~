<script type='text/javascript' src='https://cdn.firebase.com/js/client/1.0.17/firebase.js'></script>
<script type="text/javascript" src="Hearthstone.js"></script>
<script type="text/javascript" src="HearthstoneCards.js"></script>
<script type="text/javascript" src="HearthstonePuzzle.js"></script>

<script>
  function assert(expected, actual) {
    if (expected != actual) {
      var ex = new Error();
      ex.expected = expected;
      ex.actual = actual;
      throw ex;
    }
  }
  
  var tests = {};
</script>

<script type="text/javascript" src="HunterTests.js"></script>
<script type="text/javascript" src="MageTests.js"></script>
<script type="text/javascript" src="HearthstoneTests.js"></script>
<script type="text/javascript" src="ComplexTests.js"></script>
<script type="text/javascript" src="HearthstonePuzzleTests.js"></script>

<script>
  // run all tests
  console.log_ = console.log;
  console.log = function() { };
  for (prop in tests) {
    if (prop.indexOf('test') == 0) {
      var currTest = prop;
      var startTime = new Date();
      try {
        
        tests[currTest]();
        console.log_('%c[Pass]', new Date() - startTime + 'ms', 'color: green', currTest);
      } catch (err) {
        console.log_('%c[Fail]', new Date() - startTime + 'ms', 'color: red', currTest);
        if (err.hasOwnProperty('expected') && err.hasOwnProperty('actual')) {
          console.log_('Expected', err.expected, 'but is', err.actual);
          console.log_(err.stack);
        } else {
          console.log_(err.stack);
        }
      }
    }
  }
</script>
